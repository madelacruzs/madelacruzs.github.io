<!DOCTYPE html>
<html lang="en">
<head>
<title>Short URL | Miguel De La Cruz </title>
<!-- for-mobile-apps -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Short URL" />


<!-- //for-mobile-apps -->
<!-- //custom-theme -->
<link href="../Blockchain-EventRegistration/css/style.css" rel="stylesheet" type="text/css" media="all" />

<!-- js -->
<script type="text/javascript" src="../Blockchain-EventRegistration/js/jquery-2.1.4.min.js"></script>

<!-- //js -->
<!-- font-awesome-icons -->
<!-- //font-awesome-icons -->

<script type="text/javascript">
	window.addEventListener('load', function() {

		$("#loader").hide();
		$("#btn-shorten").click(function(){
			shortUrl();
		});
	});

	function shortUrl() {
		$("#loader").show();
		$("#shortened_url").html("").attr("href","");

		var url_to_shorten = $("#txt-shorten").val();
		var data = {
			url_to_shorten: url_to_shorten        
		}

		if(url_to_shorten != ""){
			$.ajax({
				url: 'http://paybyphone-env.wqhbw3tnga.us-east-2.elasticbeanstalk.com/',
				type: 'post',
				dataType: 'json',
				contentType: 'application/json',
				success: function (result) {
					console.log(result.shortened_url);
					$("#shortened_url").html(result.shortened_url).attr("href",result.shortened_url);
					$("#loader").hide();
				},
				data: JSON.stringify(data),
				error: function( jqXhr, textStatus, errorThrown){
					$("#loader").hide();
					console.log(errorThrown);
				}
			});
		}else{

		}
        
	}
</script>

</head>

<style type="text/css">
    #background {
        position: fixed;
        width: 100%;
        min-height: 100%;
        background-color: #57b8ff;
        background-repeat: no-repeat;
        background-size: cover;
        background-image: url(img/background.76321afe.svg)!important;
    }
    #root {
        position: absolute;
        width: 100%;
        height: 100%;
	}
	span{
		color: #FFFFFF;
	}
	.w3layouts_main_grid {
		width: 60%;
	}
	.w3layouts_main_grid textarea {
		width: 95%
	}
</style>



<body>
<div id="background"></div>

<div id="root">
<!-- banner -->
	<div class="center-container">
		<div class="main">
			<h1 class="w3layouts_head">A Simple URL shortening </h1>
			<!---728x90-->

		<div style='margin: 0 auto;text-align: center;margin-top: 5px;'>
			

		</div>
		<div class="w3layouts_main_grid">
					
			<form action="#" method="post" class="w3_form_post">
				<div class="w3_agileits_main_grid w3l_main_grid">
					<span class="agileits_grid">
						<img id="loader" src="https://loading.io/spinners/double-ring/lg.double-ring-spinner.gif" style="height:45px">

						</span>
				</div>
				<div class="w3_agileits_main_grid w3l_main_grid">
					<fieldset class="cf">
						<input id="txt-shorten" taborder="1" name="url" type="text" class="shorten-input" placeholder="Paste a link to shorten it" value="" autocomplete="off" autocorrect="off" autocapitalize="off">
						<br />
						<br />
						<span><a id="shortened_url" href="" target="_blank"></span></p>
					</fieldset>		
				</div>
				<div class="w3_main_grid">
					<div class="w3_main_grid_right">
						<input id="btn-shorten" type="button" value="Shorten">
					</div>
				</div>				
			</form>
			<span id="txtError"></span>
		</div>
	
		<!---728x90-->
		</div>
			<div class="w3layouts_copy_right">
				<div class="container">
					<p>2019 Short URL | Powered by <a href="https://github.com/madelacruzs">madelacruzs</a></p>
				</div>
			</div>
			<!--728x90-->
		</div>
	</div>
</div>
<!-- //footer -->

</div>
</body>
</html>
